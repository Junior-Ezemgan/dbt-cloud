version: 2

sources:
    - name: stripe
      database: raw
      tables:
        - name: payment
          columns:
            - name: id
              description: primary key for payment
              tests:
                - unique :
                    config:
                      severity: warn
                      warn_if: ">10"
                      error_if: ">100"
            - name: paymentmethod 
              tests:
                - accepted_values:
                    values: ['credit_card', 'bank_transfer', 'coupon','gift_card']
                    config: 
                      where : "status is success"
                  
            

        